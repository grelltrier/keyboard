<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="365px" preserveAspectRatio="none" style="width:461px;height:365px;" version="1.1" viewBox="0 0 461 365" width="461px" zoomAndPan="magnify"><defs><filter height="300%" id="f16nrs2h7e6tjx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[d132e94edea866007442d98e29e8f036]
cluster interpreter--><polygon fill="#FFFFFF" filter="url(#f16nrs2h7e6tjx)" points="16,6.294,93,6.294,100,29.0939,444,29.0939,444,218.294,16,218.294,16,6.294" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="100" y1="29.0939" y2="29.0939"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="20" y="21.2999">interpreter</text><!--MD5=[d8f9eb381476c1ab6e7b4673404ff11c]
cluster keyboard--><polygon fill="#FFFFFF" filter="url(#f16nrs2h7e6tjx)" points="49,265.294,119,265.294,126,288.0939,169,288.0939,169,358.294,49,358.294,49,265.294" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="49" x2="126" y1="288.0939" y2="288.0939"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="53" y="280.2999">keyboard</text><!--MD5=[3e09a69be21538652ac4edbcb9c29289]
cluster submitter--><polygon fill="#FFFFFF" filter="url(#f16nrs2h7e6tjx)" points="266,265.294,337,265.294,344,288.0939,380,288.0939,380,358.294,266,358.294,266,265.294" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="266" x2="344" y1="288.0939" y2="288.0939"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="270" y="280.2999">submitter</text><!--MD5=[0ce663c225e1303a6dfdbfba7f0d022a]
class Interpreter--><rect codeLine="6" fill="#CCCCCC" filter="url(#f16nrs2h7e6tjx)" height="160.7991" id="Interpreter" style="stroke: #1A66C2; stroke-width: 1.5;" width="397" x="31.5" y="41.294"/><ellipse cx="195" cy="54.294" fill="#1A66C2" rx="8" ry="8" style="stroke: #1A66C2; stroke-width: 1.0;"/><path d="M198.5,52.9971 C198.4531,52.294 198.2969,51.8565 197.9688,51.4034 C197.3438,50.5909 196.3594,50.1377 195.1563,50.1377 C192.8906,50.1377 191.4844,51.7627 191.4844,54.3565 C191.4844,56.9346 192.875,58.544 195.1094,58.544 C197.1094,58.544 198.4375,57.3877 198.5313,55.5596 L196.9219,55.5596 C196.8125,56.5752 196.1875,57.1534 195.1563,57.1534 C193.875,57.1534 193.1406,56.1221 193.1406,54.3721 C193.1406,52.6065 193.9219,51.544 195.2188,51.544 C196.1719,51.544 196.7031,52.0127 196.9219,52.9971 L198.5,52.9971 Z "/><ellipse cx="216" cy="53.294" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="223" y="57.913">Interpreter</text><line style="stroke: #1A66C2; stroke-width: 1.5;" x1="32.5" x2="427.5" y1="67.294" y2="67.294"/><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="37.5" y="81.5129">text_left_of_cursor: String</text><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="37.5" y="94.7128">text_right_of_cursor: String</text><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="37.5" y="107.9127">prev_submissions: Vec&lt;Submission&gt;</text><line style="stroke: #1A66C2; stroke-width: 1.5;" x1="32.5" x2="427.5" y1="114.8937" y2="114.8937"/><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="48.5" y="129.1126">receiver: mpsc::Receiver&lt;(String, String)&gt;</text><ellipse cx="42.5" cy="139.0936" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="374" x="48.5" y="142.3125">new(ui_connection: UIConnector, receiver: mpsc::Receiver&lt;(String, String)&gt;)</text><ellipse cx="42.5" cy="152.2935" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="48.5" y="155.5124">interpret_text(text_to_interpret: String): Vec&lt;Submission&gt;</text><ellipse cx="42.5" cy="165.4934" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="48.5" y="168.7123">interpret_gesture(_x: i32, _y: i32)</text><ellipse cx="42.5" cy="178.6933" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="48.5" y="181.9122">get_gesture_result(_x: i32, _y: i32): String</text><text fill="#333333" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="48.5" y="195.1121">update_surrounding_text()</text><!--MD5=[c72a2334f32e19dd9bd2f3fa3ffa4e59]
class keyboard.UIConnector--><rect fill="#CCCCCC" filter="url(#f16nrs2h7e6tjx)" height="42" id="keyboard.UIConnector" style="stroke: #1A66C2; stroke-width: 1.5;" width="88" x="65" y="300.294"/><ellipse cx="77" cy="313.294" fill="#1A66C2" rx="8" ry="8" style="stroke: #1A66C2; stroke-width: 1.0;"/><path d="M80.5,311.9971 C80.4531,311.294 80.2969,310.8565 79.9688,310.4034 C79.3438,309.5909 78.3594,309.1377 77.1563,309.1377 C74.8906,309.1377 73.4844,310.7627 73.4844,313.3565 C73.4844,315.9346 74.875,317.544 77.1094,317.544 C79.1094,317.544 80.4375,316.3877 80.5313,314.5596 L78.9219,314.5596 C78.8125,315.5752 78.1875,316.1534 77.1563,316.1534 C75.875,316.1534 75.1406,315.1221 75.1406,313.3721 C75.1406,311.6065 75.9219,310.544 77.2188,310.544 C78.1719,310.544 78.7031,311.0127 78.9219,311.9971 L80.5,311.9971 Z "/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="88" y="316.913">UIConnector</text><line style="stroke: #1A66C2; stroke-width: 1.5;" x1="66" x2="152" y1="326.294" y2="326.294"/><line style="stroke: #1A66C2; stroke-width: 1.5;" x1="66" x2="152" y1="334.294" y2="334.294"/><!--MD5=[4d504f2fe5340156735fe01321013e45]
class submitter.Submission--><rect fill="#CCCCCC" filter="url(#f16nrs2h7e6tjx)" height="42" id="submitter.Submission" style="stroke: #1A66C2; stroke-width: 1.5;" width="82" x="282" y="300.294"/><ellipse cx="294" cy="313.294" fill="#1A66C2" rx="8" ry="8" style="stroke: #1A66C2; stroke-width: 1.0;"/><path d="M297.5,311.9971 C297.4531,311.294 297.2969,310.8565 296.9688,310.4034 C296.3438,309.5909 295.3594,309.1377 294.1563,309.1377 C291.8906,309.1377 290.4844,310.7627 290.4844,313.3565 C290.4844,315.9346 291.875,317.544 294.1094,317.544 C296.1094,317.544 297.4375,316.3877 297.5313,314.5596 L295.9219,314.5596 C295.8125,315.5752 295.1875,316.1534 294.1563,316.1534 C292.875,316.1534 292.1406,315.1221 292.1406,313.3721 C292.1406,311.6065 292.9219,310.544 294.2188,310.544 C295.1719,310.544 295.7031,311.0127 295.9219,311.9971 L297.5,311.9971 Z "/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="305" y="316.913">Submission</text><line style="stroke: #1A66C2; stroke-width: 1.5;" x1="283" x2="363" y1="326.294" y2="326.294"/><line style="stroke: #1A66C2; stroke-width: 1.5;" x1="283" x2="363" y1="334.294" y2="334.294"/><!--MD5=[d96597d98f48b8100fea458377e33401]
reverse link Interpreter to keyboard.UIConnector--><path codeLine="19" d="M114.34,212.794 C109.59,219.634 105.4,226.814 102,234.294 C92.44,255.294 96.92,282.144 102,300.214 " fill="none" id="Interpreter-backto-keyboard.UIConnector" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="122.24,202.304,115.4363,204.6935,115.0252,211.8929,121.8289,209.5034,122.24,202.304" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#333333" points="105.4409,245.8547,108.7804,239.0183,104.1243,238.361,105.4409,245.8547" style="stroke: #333333; stroke-width: 1.0;"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="114" y="245.5129">uses to send messages to the UI</text><!--MD5=[d113d14323779764569c834b1aebd73b]
link Interpreter to submitter.Submission--><path codeLine="20" d="M268.89,202.464 C274.01,213.144 279.16,223.974 284,234.294 C294.51,256.704 306.19,282.604 314,300.074 " fill="none" id="Interpreter-submitter.Submission" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#333333" points="295.678,245.5249,294.7767,237.9701,290.5082,239.9427,295.678,245.5249" style="stroke: #333333; stroke-width: 1.0;"/><text fill="#333333" font-family="Verdana" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="302" y="245.5129">receives to interpret</text><!--MD5=[9959c19dc34ba7ad965aa05a67db4b08]
@startuml interpreter
!define LIGHTBLUE
!includeurl https://raw.githubusercontent.com/grelltrier/RedDress-PlantUML/master/style.puml

package interpreter {

    +class Interpreter {
        receiver: mpsc::Receiver<(String, String)>
        text_left_of_cursor: String
        text_right_of_cursor: String
        prev_submissions: Vec<Submission>

        {static} +new(ui_connection: UIConnector, receiver: mpsc::Receiver<(String, String)>)
        +interpret_text(text_to_interpret: String): Vec<Submission>
        +interpret_gesture(_x: i32, _y: i32)
        +get_gesture_result(_x: i32, _y: i32): String
        update_surrounding_text()
    }

    Interpreter *- - keyboard.UIConnector : > uses to send messages to the UI
    Interpreter - - submitter.Submission : > receives to interpret
}
@enduml

@startuml interpreter




skinparam stereotypeCBackgroundColor 1a66c2







skinparam backgroundColor fff








skinparam circledCharacter {
  radius 8
  fontSize 11
  fontName Verdana
}

skinparam class {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11

  attributeFontColor 333
  attributeFontSize 11
  attributeIconSize 11
}


skinparam ActivityBarColor 1a66c2
skinparam activityDiamondBackgroundColor ccc
skinparam activityDiamondBorderColor 1a66c2


skinparam actor {
    backgroundColor 2a86e2
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam participant {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam collections {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam SequenceBox{
    backgroundColor e0e0e0
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam interface {
    backgroundColor 2a86e2
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam component {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam node {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam database {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam queue {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam usecase {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11
}

skinparam activity {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11
}

skinparam sequence {
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11

  lifeLineBorderColor 2a86e2
  lifeLineBackgroundColor e0e0e0
}

skinparam boundary {
    backgroundColor 2a86e2
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam control {
    backgroundColor 2a86e2
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam entity {
    backgroundColor 2a86e2
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


skinparam state {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11
  startColor 2a86e2
  endColor 1a66c2
}


skinparam object {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11
}


skinparam note {
    backgroundColor 2a86e2
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam cloud {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
    arrowColor 000
  arrowFontName Verdana
  arrowFontColor 333
  arrowFontSize 11
}

skinparam rectangle {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}

skinparam storage {
    backgroundColor ccc
  borderColor 1a66c2
    fontColor 000
  fontName Verdana
  fontSize 11
  stereotypeFontColor 333
  stereotypeFontSize 11
}


package interpreter {

    +class Interpreter {
        receiver: mpsc::Receiver<(String, String)>
        text_left_of_cursor: String
        text_right_of_cursor: String
        prev_submissions: Vec<Submission>

        {static} +new(ui_connection: UIConnector, receiver: mpsc::Receiver<(String, String)>)
        +interpret_text(text_to_interpret: String): Vec<Submission>
        +interpret_gesture(_x: i32, _y: i32)
        +get_gesture_result(_x: i32, _y: i32): String
        update_surrounding_text()
    }

    Interpreter *- - keyboard.UIConnector : > uses to send messages to the UI
    Interpreter - - submitter.Submission : > receives to interpret
}
@enduml

PlantUML version 1.2020.19(Mon Oct 12 17:10:01 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>