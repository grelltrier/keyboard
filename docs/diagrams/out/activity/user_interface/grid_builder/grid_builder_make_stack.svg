<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1100px" preserveAspectRatio="none" style="width:432px;height:1100px;" version="1.1" viewBox="0 0 432 1100" width="432px" zoomAndPan="magnify"><defs><filter height="300%" id="fhl6bj6x5f742" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fhl6bj6x5f742)" height="1072.9391" style="stroke: #000000; stroke-width: 2.0;" width="404" x="11" y="11"/><path d="M367,12 L367,20.7999 L357,30.7999 L11,30.7999 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="346" x="14" y="25.0059">GridBuilder::make_stack(relm, layout_meta_hashmap)</text><ellipse cx="231" cy="50.7999" fill="#000000" filter="url(#fhl6bj6x5f742)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="177.5" y="80.7999"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="187.5" y="101.948">Make new stack</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="185.5" y="135.2"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="195.5" y="156.3481">stack = Stack</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="220" x="121" y="189.6001"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="200" x="131" y="210.7482">Make new storage for key references</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="48.8002" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="157" y="244.0002"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="179" y="265.1483">&lt;&lt;CentralBuffer&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="167" y="279.5484">KeyReferences storage</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="99" y="424.2383"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="244" x="109" y="445.3864">grid_name = GridBuilder::make_grid_name()</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="107" y="478.6384"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="117" y="499.7865">(grid, key_refs) = GridBuilder::make_grid()</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="176" y="533.0385"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="186" y="554.1866">Add grid to stack</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="99" y="648.6385"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="244" x="109" y="669.7866">grid_name = GridBuilder::make_grid_name()</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="107" y="703.0386"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="117" y="724.1867">(grid, key_refs) = GridBuilder::make_grid()</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="176" y="766.3387"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="186" y="787.4868">Add grid to stack</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="312" x="75" y="820.7388"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="292" x="85" y="841.8869">Add key_refs from new grid to KeyReferences storage</text><polygon fill="#FEFECE" filter="url(#fhl6bj6x5f742)" points="185.5,587.4386,276.5,587.4386,288.5,599.4386,276.5,611.4386,185.5,611.4386,173.5,599.4386,185.5,587.4386" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="235" y="621.6575">next</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="185.5" y="603.0576">for key in key_refs</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="155.5" y="596.4576">end</text><polygon fill="#FEFECE" filter="url(#fhl6bj6x5f742)" points="163,368.5194,299,368.5194,311,380.5194,299,392.5194,163,392.5194,151,380.5194,163,368.5194" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="235" y="402.7383">next</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="163" y="384.1383">for each view in LayoutMeta</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="133" y="377.5384">end</text><polygon fill="#FEFECE" filter="url(#fhl6bj6x5f742)" points="119,312.8004,343,312.8004,355,324.8004,343,336.8004,119,336.8004,107,324.8004,119,312.8004" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="235" y="347.0194">next</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="119" y="328.4194">for each LayoutMeta in layout_meta_hashmap</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="89" y="321.8195">end</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="135.5" y="941.1389"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="145.5" y="962.287">Shrink hashmap_with_key_refs</text><rect fill="#FEFECE" filter="url(#fhl6bj6x5f742)" height="34.4001" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="133.5" y="995.539"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="143.5" y="1016.6871">(stack, hashmap_with_key_refs)</text><ellipse cx="231" cy="1060.9391" fill="#FFFFFF" filter="url(#fhl6bj6x5f742)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="231" cy="1060.9391" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="60.7999" y2="80.7999"/><polygon fill="#A80036" points="227,70.7999,231,80.7999,235,70.7999,231,74.7999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="115.2" y2="135.2"/><polygon fill="#A80036" points="227,125.2,231,135.2,235,125.2,231,129.2" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="169.6001" y2="189.6001"/><polygon fill="#A80036" points="227,179.6001,231,189.6001,235,179.6001,231,183.6001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="224.0002" y2="244.0002"/><polygon fill="#A80036" points="227,234.0002,231,244.0002,235,234.0002,231,238.0002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="458.6384" y2="478.6384"/><polygon fill="#A80036" points="227,468.6384,231,478.6384,235,468.6384,231,472.6384" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="513.0385" y2="533.0385"/><polygon fill="#A80036" points="227,523.0385,231,533.0385,235,523.0385,231,527.0385" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="683.0386" y2="703.0386"/><polygon fill="#A80036" points="227,693.0386,231,703.0386,235,693.0386,231,697.0386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="737.4387" y2="766.3387"/><polygon fill="#A80036" points="227,756.3387,231,766.3387,235,756.3387,231,760.3387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="800.7388" y2="820.7388"/><polygon fill="#A80036" points="227,810.7388,231,820.7388,235,810.7388,231,814.7388" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="611.4386" y2="648.6385"/><polygon fill="#A80036" points="227,638.6385,231,648.6385,235,638.6385,231,642.6385" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="855.1389" y2="865.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="399" y1="865.1389" y2="865.1389"/><polygon fill="#A80036" points="395,746.3387,399,736.3387,403,746.3387,399,742.3387" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="399" x2="399" y1="599.4386" y2="865.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="399" x2="288.5" y1="599.4386" y2="599.4386"/><polygon fill="#A80036" points="298.5,595.4386,288.5,599.4386,298.5,603.4386,294.5,599.4386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="173.5" x2="63" y1="599.4386" y2="599.4386"/><polygon fill="#A80036" points="59,732.3387,63,742.3387,67,732.3387,63,736.3387" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="63" y1="599.4386" y2="877.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="408" y1="877.1389" y2="877.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="408" x2="408" y1="380.5194" y2="877.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="408" x2="311" y1="380.5194" y2="380.5194"/><polygon fill="#A80036" points="321,376.5194,311,380.5194,321,384.5194,317,380.5194" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="567.4386" y2="587.4386"/><polygon fill="#A80036" points="227,577.4386,231,587.4386,235,577.4386,231,581.4386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="392.5194" y2="424.2383"/><polygon fill="#A80036" points="227,414.2383,231,424.2383,235,414.2383,231,418.2383" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="151" x2="45" y1="380.5194" y2="380.5194"/><polygon fill="#A80036" points="41,624.6386,45,634.6386,49,624.6386,45,628.6386" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="45" x2="45" y1="380.5194" y2="899.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="45" x2="408" y1="899.1389" y2="899.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="408" x2="408" y1="324.8004" y2="899.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="408" x2="355" y1="324.8004" y2="324.8004"/><polygon fill="#A80036" points="365,320.8004,355,324.8004,365,328.8004,361,324.8004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="336.8004" y2="368.5194"/><polygon fill="#A80036" points="227,358.5194,231,368.5194,235,358.5194,231,362.5194" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="107" x2="27" y1="324.8004" y2="324.8004"/><polygon fill="#A80036" points="23,606.0387,27,616.0387,31,606.0387,27,610.0387" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="27" x2="27" y1="324.8004" y2="921.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="27" x2="231" y1="921.1389" y2="921.1389"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="921.1389" y2="941.1389"/><polygon fill="#A80036" points="227,931.1389,231,941.1389,235,931.1389,231,935.1389" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="292.8004" y2="312.8004"/><polygon fill="#A80036" points="227,302.8004,231,312.8004,235,302.8004,231,306.8004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="975.539" y2="995.539"/><polygon fill="#A80036" points="227,985.539,231,995.539,235,985.539,231,989.539" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="231" x2="231" y1="1029.9391" y2="1049.9391"/><polygon fill="#A80036" points="227,1039.9391,231,1049.9391,235,1039.9391,231,1043.9391" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ba77862fa88865f815b76b4106762267]
@startuml grid_builder_make_stack

partition "GridBuilder::make_stack(relm, layout_meta_hashmap)"{  
  start
  :Make new stack;
  :stack = Stack]
  :Make new storage for key references;
  :    <<CentralBuffer>>
  KeyReferences storage]

  while (for each LayoutMeta in layout_meta_hashmap) is (next)
    while (for each view in LayoutMeta) is (next)
      :grid_name = GridBuilder::make_grid_name();
      :(grid, key_refs) = GridBuilder::make_grid();
      :Add grid to stack;
      while (for key in key_refs) is (next)
        :grid_name = GridBuilder::make_grid_name();
        :(grid, key_refs) = GridBuilder::make_grid();
        :Add grid to stack;
        :Add key_refs from new grid to KeyReferences storage;
      endwhile (end)
    endwhile (end)
  endwhile (end)
  :Shrink hashmap_with_key_refs;
  :(stack, hashmap_with_key_refs)]

  stop
}
@enduml

PlantUML version 1.2020.15(Sun Jun 28 13:39:45 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>