<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="683px" preserveAspectRatio="none" style="width:545px;height:683px;" version="1.1" viewBox="0 0 545 683" width="545px" zoomAndPan="magnify"><defs><filter height="300%" id="fdgb6o50sm07h" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fdgb6o50sm07h)" height="655.6007" style="stroke: #000000; stroke-width: 2.0;" width="517" x="11" y="11"/><path d="M239,12 L239,20.7999 L229,30.7999 L11,30.7999 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="218" x="14" y="25.0059">UIManager::change_layout_view()</text><ellipse cx="278.25" cy="50.7999" fill="#000000" filter="url(#fdgb6o50sm07h)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="145.75" y="80.7999"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="245" x="155.75" y="101.948">UIManager::make_new_layout_view_name()</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="192.75" y="135.2"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="151" x="202.75" y="156.3481">Make the stack name from it</text><polygon fill="#FEFECE" filter="url(#fdgb6o50sm07h)" points="205.25,189.6001,351.25,189.6001,363.25,201.6001,351.25,213.6001,205.25,213.6001,193.25,201.6001,205.25,189.6001" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="205.25" y="205.2191">stack has child with that name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="175.25" y="198.6192">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="12" x="363.25" y="198.6192">no</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="53.5" y="223.6001"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="173" x="63.5" y="244.7482">Change to that child of the stack</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="48.8002" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="23" y="278.0002"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="221" x="33" y="299.1483">Notify the Win struct about the change by</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="234" x="33" y="313.5484">sending a ChangeKBLayoutView message</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="63" y="395.4004"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="73" y="416.5485">Set prev_layout to old layout</text><polygon fill="#FEFECE" filter="url(#fdgb6o50sm07h)" points="103.5,346.8004,196.5,346.8004,208.5,358.8004,196.5,370.8004,103.5,370.8004,91.5,358.8004,103.5,346.8004" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="154" y="381.0194">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="103.5" y="362.4194">new layout was set</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="12" x="208.5" y="355.8195">no</text><polygon fill="#FEFECE" filter="url(#fdgb6o50sm07h)" points="150,449.8005,162,461.8005,150,473.8005,138,461.8005,150,449.8005" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="27.5" y="493.8005"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="225" x="37.5" y="514.9486">Set current layout and view to new values</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="124.5" y="548.2006"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="134.5" y="569.3487">Ok(())</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="361" y="223.6001"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="371" y="244.7482">Emit warning</text><rect fill="#FEFECE" filter="url(#fdgb6o50sm07h)" height="34.4001" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="297" y="278.0002"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="199" x="307" y="299.1483">Err(UIError::LayoutViewNonExistent)</text><polygon fill="#FEFECE" filter="url(#fdgb6o50sm07h)" points="278.25,588.6007,290.25,600.6007,278.25,612.6007,266.25,600.6007,278.25,588.6007" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="278.25" cy="643.6007" fill="#FFFFFF" filter="url(#fdgb6o50sm07h)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="278.25" cy="643.6007" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="60.7999" y2="80.7999"/><polygon fill="#A80036" points="274.25,70.7999,278.25,80.7999,282.25,70.7999,278.25,74.7999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="115.2" y2="135.2"/><polygon fill="#A80036" points="274.25,125.2,278.25,135.2,282.25,125.2,278.25,129.2" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="258.0002" y2="278.0002"/><polygon fill="#A80036" points="146,268.0002,150,278.0002,154,268.0002,150,272.0002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="370.8004" y2="395.4004"/><polygon fill="#A80036" points="146,385.4004,150,395.4004,154,385.4004,150,389.4004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="208.5" x2="247" y1="358.8004" y2="358.8004"/><polygon fill="#A80036" points="243,402.6004,247,412.6004,251,402.6004,247,406.6004" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247" x2="247" y1="358.8004" y2="461.8005"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247" x2="162" y1="461.8005" y2="461.8005"/><polygon fill="#A80036" points="172,457.8005,162,461.8005,172,465.8005,168,461.8005" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="429.8005" y2="449.8005"/><polygon fill="#A80036" points="146,439.8005,150,449.8005,154,439.8005,150,443.8005" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="326.8004" y2="346.8004"/><polygon fill="#A80036" points="146,336.8004,150,346.8004,154,336.8004,150,340.8004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="473.8005" y2="493.8005"/><polygon fill="#A80036" points="146,483.8005,150,493.8005,154,483.8005,150,487.8005" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="528.2006" y2="548.2006"/><polygon fill="#A80036" points="146,538.2006,150,548.2006,154,538.2006,150,542.2006" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406.5" x2="406.5" y1="258.0002" y2="278.0002"/><polygon fill="#A80036" points="402.5,268.0002,406.5,278.0002,410.5,268.0002,406.5,272.0002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="193.25" x2="150" y1="201.6001" y2="201.6001"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="201.6001" y2="223.6001"/><polygon fill="#A80036" points="146,213.6001,150,223.6001,154,213.6001,150,217.6001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="363.25" x2="406.5" y1="201.6001" y2="201.6001"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406.5" x2="406.5" y1="201.6001" y2="223.6001"/><polygon fill="#A80036" points="402.5,213.6001,406.5,223.6001,410.5,213.6001,406.5,217.6001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="150" y1="582.6007" y2="600.6007"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="150" x2="266.25" y1="600.6007" y2="600.6007"/><polygon fill="#A80036" points="256.25,596.6007,266.25,600.6007,256.25,604.6007,260.25,600.6007" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406.5" x2="406.5" y1="312.4003" y2="600.6007"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="406.5" x2="290.25" y1="600.6007" y2="600.6007"/><polygon fill="#A80036" points="300.25,596.6007,290.25,600.6007,300.25,604.6007,296.25,600.6007" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="169.6001" y2="189.6001"/><polygon fill="#A80036" points="274.25,179.6001,278.25,189.6001,282.25,179.6001,278.25,183.6001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="612.6007" y2="632.6007"/><polygon fill="#A80036" points="274.25,622.6007,278.25,632.6007,282.25,622.6007,278.25,626.6007" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[71c584dbda6bed842b7c821473c87ad9]
@startuml uimanager::change_layout_view

partition "UIManager::change_layout_view()"{
  start
  :UIManager::make_new_layout_view_name();
  :Make the stack name from it;
  if (stack has child with that name) then (yes)
    :Change to that child of the stack;
    :Notify the Win struct about the change by 
    sending a ChangeKBLayoutView message;
    if (new layout was set) then (yes)
      :Set prev_layout to old layout;
    else (no)
    endif
    :Set current layout and view to new values;
    :Ok(())]
  else (no)
    :Emit warning;
    :Err(UIError::LayoutViewNonExistent)]
  endif
  
  stop
}
@enduml

PlantUML version 1.2020.15(Sun Jun 28 13:39:45 CEST 2020)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>